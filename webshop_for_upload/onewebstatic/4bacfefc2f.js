window.OnewebContactForm=function($){var ContactFormValidation;function htmlEncode(str){return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')};function getUniqueFieldName(fieldName,existingNames){var uniqueName=fieldName,count=1;while(existingNames.indexOf(uniqueName)!==-1){uniqueName=fieldName+'_'+count;count++}return uniqueName};function runPipe(fnPipe,data){return fnPipe.reduce(function(newData,fn){return fn(newData)},data)}ContactFormValidation=function(cfg){try{this.init(cfg)}catch(e){throw new Error('ContactForm Validation initialization failed')}};ContactFormValidation.prototype={constructor:window.OnewebContactForm,init:function(cfg){this.cmpId=cfg.cmpId;this.postURL=cfg.postURL;this.formLabels=cfg.formLabels;this.formLabelsTypeMappings=cfg.formLabelsTypeMappings;this.successMessage=decodeURIComponent(cfg.successMessage);this.errorMessage=decodeURIComponent(cfg.errorMessage);this.formElementsErrorMessages=JSON.parse(cfg.formElementsErrorMessages);this.allFieldErrorMessage=JSON.parse(cfg.allFieldErrorMessage);this.emailRegex=new RegExp(cfg.emailRegex,'i');this.urlRegex=new RegExp(cfg.urlRegex);this.numberRegex=/^[0-9+\(\)#\.\s]+$/;this.numberQuery='input[ctype="number"],input[type="number"]';this.previewMode=cfg.previewMode;this.isCaptchaEnabled=cfg.isCaptchaEnabled;this.captchaLang=cfg.captchaLang;this.isInvisibleCaptchaEnabled=cfg.isInvisibleCaptchaEnabled;this.uploadedFileInfo={};this.attachSubmitEvent();this.attachNumberInputValidation();this.formFieldErrors=[];this.contactFormDOM={};this.subject=cfg.subject;this.formData=new FormData;this.addMetadataToFormData();this.defaultFormData=$.extend({},this.formData);this.originalCharset=this.getDocumentCharset();if(this.isCaptchaEnabled){if(this.isInvisibleCaptchaEnabled){this.loadInvisibleCaptcha()}else{this.loadCaptcha()}}this.attachSubmitEvent();this.handleFileUpload()},removeFileFromFileList:function(removeAll){if(!removeAll){$('.oneWebCntFormFileUploadInput')[0].value=null}else{$('.oneWebCntFormFileUploadInput').val(null);$('.fileList').empty()}var fileCount=Object.keys(this.uploadedFileInfo).length;$('.uploadedFileCount').html(fileCount);if(fileCount===0){$('.fileUploadListCtnEmptyTxt').css('display','flex')}},addMetadataToFormData:function(){this.formData.append('cmpId',this.cmpId);this.formData.append('subject',this.subject);this.formData.append('formLabels',this.formLabels);this.formData.append('formLabelsTypeMappings',this.formLabelsTypeMappings)},handleFileUpload:function(){var self=this;function deleteFile(){var fileKey=$(this).attr('data-key');delete self.uploadedFileInfo[fileKey];$('.oneWebCntFormFileUploadInput').prop('disabled',false);$('.fileUploadBtn').css('opacity','1');$(this).parent().remove();self.removeFileFromFileList(false)}$('.fileUploadBtn, .fileUploadListCtn .oneWebCntFormFileUploadInput').on('click',function(){var widgetState=self.myCustomWidget&&self.myCustomWidget.state;if(['unactivated','expired','reset','error'].includes(widgetState)){self.myCustomWidget.start()}});$('.oneWebCntFormFileUploadInput').on('change',function(event){if(event.target.files.length){var totalSize=0;var maxSize=5*1024*1024;var maxTotalSize=25*1024*1024;var maxFiles=5;var files=event.target.files;var fileCount=Object.keys(self.uploadedFileInfo).length;$('.fileUploadErrMsg').empty();var excludedFilesExtList=['exe','zip','js','html','css','php','asp','jsp','bat','cmd','sh','vbs','jar','msi','dmg','bin','dat','dll','sys','tmp','log','torrent','iso','img','dmg','pkg','deb','rpm','tar','gz','7z','rar','zipx','ace','arj','bz2','cab','gz','iso','lzh','tar','uue','z'];for(var i=0;i<files.length;i++){var file=files[i];var fileNameArr=file.name.split('.');var fileExt=fileNameArr.length>1?fileNameArr[fileNameArr.length-1]:undefined;if(!fileExt||excludedFilesExtList.indexOf(fileExt)>-1){$('.fileUploadErrMsg').append('<div class="oneWebCntFormFileUploadErrMsg">'+'<span class="oneWebCntFormFileUploadErrMsgTxt" style="color:#D20019 !important">'+'File type not supported'+'</span>'+'</div>');$('.oneWebCntFormFileUploadInput')[0].value='';return}}if(fileCount+files.length>maxFiles){$('.fileUploadErrMsg').append('<div class="oneWebCntFormFileUploadErrMsg">'+'<span class="oneWebCntFormFileUploadErrMsgTxt" style="color:#D20019 !important">'+'You can upload a maximum of '+maxFiles+' files'+'</span>'+'</div>');$('.oneWebCntFormFileUploadInput')[0].value='';return}for(var i=0;i<files.length;i++){totalSize+=files[i].size}if(totalSize>maxTotalSize){$('.fileUploadErrMsg').append('<div class="oneWebCntFormFileUploadErrMsg">'+'<span class="oneWebCntFormFileUploadErrMsgTxt" style="color:#D20019 !important">'+'Maximum size limit of all files together is 25 MB. Upload smaller or fewer files.'+'</span>'+'</div>');$('.oneWebCntFormFileUploadInput')[0].value='';return}for(var i=0;i<files.length;i++){if(files[i].size>maxSize){$('.fileUploadErrMsg').append('<div class="oneWebCntFormFileUploadErrMsg">'+'<span class="oneWebCntFormFileUploadErrMsgTxt" style="color:#D20019 !important">'+'One or more files are too big to upload. Choose files that are less than 5 MB'+'</span>'+'</div>');$('.oneWebCntFormFileUploadInput')[0].value='';return}}function escapeDoubleQuotes(str){return str.replace(/"/g,'&quot;')}$('.fileUploadListCtn').on('click','#oneWebCntFormFileUploadItemDelete',deleteFile);for(var i=0;i<files.length;i++){var fileKey=files[i].name+Date.now();self.uploadedFileInfo[fileKey]=files[i];$('.fileList').append('<div class="oneWebCntFormFileUploadItem no-padding-override">'+'<div class="oneWebCntFormFileName">'+'<span class="oneWebCntFormFileUploadItemName" title="'+escapeDoubleQuotes(files[i].name)+'">'+files[i].name+'</span>'+'</div>'+'<div id="oneWebCntFormFileUploadItemDelete" data-key="'+escapeDoubleQuotes(fileKey)+'" class="delete-file-icon"></div>'+'</div>');var formFontSize=$('.contact-form-text-style-div').css('font-size');$('.delete-file-icon').css({'height':formFontSize,'width':formFontSize,'background-size':'contain'});var fileCount=Object.keys(self.uploadedFileInfo).length}if(fileCount>0){$('.oneWebCntFormFileUploadErrMsg').hide();$('.fileUploadListCtnEmptyTxt').hide();$('.uploadedFileCount').html(fileCount)}if(fileCount===5){$('.oneWebCntFormFileUploadInput').prop('disabled',true);$('.fileUploadBtn').css('opacity','0.3')}$('.oneWebCntFormFileUploadInput')[0].value=''}else{$('.oneWebCntFormFileUploadInput')[0].value='';return}})},toggleSendButton:function(isEnabled){if(this.isCaptchaEnabled&&$('.submitButtonContainer .contact-form-submit-btn')){var cssObj=isEnabled?{opacity:1,pointerEvents:'all'}:{opacity:0.5,pointerEvents:'none'};$('.submitButtonContainer .contact-form-submit-btn').prop('disabled',!isEnabled).css(cssObj)}},loadCaptcha:function(){var self=this;if(this.isCaptchaEnabled){this.toggleSendButton(false);var element=document.querySelector('#frcCaptchaCtn');if(element){this.myCustomWidget=new friendlyChallenge.WidgetInstance(element,{puzzleEndpoint:'https://eu-api.friendlycaptcha.eu/api/v1/puzzle',sitekey:'FCMKLPLBMSV0VA0N',puzzleEndpoint:'https://eu-api.friendlycaptcha.eu/api/v1/puzzle',skipStyleInjection:true,language:this.captchaLang&&this.captchaLang.split('_')[0],startedCallback:self.toggleSendButton.bind(self,false),doneCallback:self.toggleSendButton.bind(self,true),errorCallback:self.toggleSendButton.bind(self,true)})}}},loadInvisibleCaptcha:function(){var self=this;if(this.isCaptchaEnabled){this.toggleSendButton(false);var element=document.querySelector('#frcCaptchaContainer');if(element){this.myCustomWidget=frcaptcha.createWidget({element:element,apiEndpoint:'eu',sitekey:'FCMKLPLBMSV0VA0N',language:this.captchaLang});this.myCustomWidget.addEventListener('frc:widget.statechange',self.captchaStateChange.bind(self));this.myCustomWidget.addEventListener('frc:widget.complete',self.toggleSendButton.bind(self,true));this.myCustomWidget.addEventListener('frc:widget.error',self.toggleSendButton.bind(self,false));this.myCustomWidget.addEventListener('frc:widget.expire',self.toggleSendButton.bind(self,false))}}},captchaDerivedState:function(state){var derivedStateMapping={init:['init','reset','unactivated'],solving:['activating','activated','requesting','solving','verifying'],completed:['completed'],expired:['expired'],error:['error']};return Object.keys(derivedStateMapping).find(key=>derivedStateMapping[key].includes(state))},captchaDerivedStateLabel:function(derivedState,lang){var labels={ar:{init:'أنا إنسان',solving:'جاري التحقق…',completed:'أنا إنسان',expired:'انتهت الصلاحية. انقر للإعادة.',error:'فشل التحقق'},ca:{init:'Verificació completada',solving:'Verificació anti-robot en progrés…',completed:'Verificació completada',expired:'La verificació ha caducat. Faci clic per reiniciar-lo.',error:'Verificació anti-robot ha fallat'},cs:{init:'Ověření dokončeno',solving:'V procesu ověřování…',completed:'Ověření dokončeno',expired:'Platnost ověření vypršela. Kliknutím to zkuste znovu.',error:'Ověření se nezdařilo'},da:{init:'Verificering gennemført',solving:'Anti-robot-verifikation i gang…',completed:'Verificering gennemført',expired:'Verifikationen er udløbet. Klik for at genstarte.',error:'Anti-robot-verifikation fejlede'},de:{init:'Ich bin ein Mensch',solving:'Überprüfung läuft…',completed:'Ich bin ein Mensch',expired:'Abgelaufen. Klicke zum Neustart.',error:'Fehler'},'en-gb':{init:'I am human',solving:'Verifying…',completed:'I am human',expired:'Expired. Click to restart.',error:'Error'},'en-us':{init:'I am human',solving:'Verifying…',completed:'I am human',expired:'Expired. Click to restart.',error:'Error'},es:{init:'Verificación completada',solving:'Verificación anti-robot en progreso…',completed:'Verificación completada',expired:'La verificación ha caducado. Haga clic para reiniciar.',error:'Verificación anti-robot ha fallado'},fi:{init:'Olen ihminen',solving:'Vahvistetaan…',completed:'Olen ihminen',expired:'Vanhentunut. Klikkaa aloittaaksesi uudelleen.',error:'Virhe'},fr:{init:'Vérification terminée',solving:"Nous vérifions que vous n'êtes pas un robot…",completed:'Vérification terminée',expired:'Vérification anti-robot expirée. Cliquez ici pour redémarrer.',error:'Vérification anti-robot échouée'},hi:{init:'मैं इंसान हूँ',solving:'सत्यापन हो रहा है…',completed:'मैं इंसान हूँ',expired:'समय समाप्त। पुनः आरंभ करने के लिए क्लिक करें।',error:'सत्यापन विफल'},hu:{init:'Ellenőrzés befejeződött',solving:'Anti-Robot ellenőrzés folyamatban…',completed:'Ellenőrzés befejeződött',expired:'Ellenőrzés lejárt. Kattints az újraindításhoz.',error:'Anti-Robot ellenőrzés sikertelen'},id:{init:'Saya manusia',solving:'Memverifikasi…',completed:'Saya manusia',expired:'Kedaluwarsa. Klik untuk memulai ulang.',error:'Verifikasi gagal'},it:{init:'Verifica completata',solving:'Verifica anti-robot in corso…',completed:'Verifica completata',expired:'Verifica scaduta. Clicca per riavviare.',error:'Verifica anti-robot fallita'},nl:{init:'Verificatie voltooid',solving:'Anti-robotverificatie bezig…',completed:'Verificatie voltooid',expired:'Verificatie verlopen. Klik om te herstarten.',error:'Anti-robotverificatie mislukt'},pl:{init:'Weryfikacja zakończona',solving:'W trakcie weryfikacji…',completed:'Weryfikacja zakończona',expired:'Weryfikacja wygasła. Kliknij, aby ponowić.',error:'Weryfikacja nie powiodła się'},pt:{init:'Verificação concluída',solving:'Verificação anti-robô em andamento…',completed:'Verificação concluída',expired:'Verificação expirada. Clique para reiniciar.',error:'Verificação anti-robô falhou'},ru:{init:'Я — человек',solving:'Проверка…',completed:'Я — человек',expired:'Просрочена. Нажмите чтобы перезапустить.',error:'Ошибка'},sk:{init:'Som človek',solving:'Overuje sa…',completed:'Som človek',expired:'Platnosť vypršala. Kliknite pre reštart.',error:'Chyba'},sv:{init:'Jag är människa',solving:'Verifiering pågår…',completed:'Jag är människa',expired:'Verifiering har utgått. Klicka för att starta om.',error:'Verifiering misslyckades'},th:{init:'ฉันเป็นมนุษย์',solving:'กำลังตรวจสอบ…',completed:'ฉันเป็นมนุษย์',expired:'หมดอายุ คลิกเพื่อเริ่มใหม่',error:'การตรวจสอบล้มเหลว'},tr:{init:'Doğrulama tamamlandı',solving:'Anti-Robot doğrulaması yükleniyor',completed:'Doğrulama tamamlandı',expired:'Doğrulamanın süresi doldu. Tıklayıp, yeniden başlatın',error:'Anti-Robot doğrulaması başarısız'},vi:{init:'Tôi là con người',solving:'Đang xác minh…',completed:'Tôi là con người',expired:'Đã hết hạn. Nhấp để khởi động lại.',error:'Xác minh thất bại'},zh:{init:'我是人类',solving:'验证中…',completed:'我是人类',expired:'已过期。点击重新开始。',error:'验证失败'},'zh-TW':{init:'我是人類',solving:'驗證中…',completed:'我是人類',expired:'已過期。點擊重新開始。',error:'驗證失敗'}};return labels[lang][derivedState]},captchaStateChange:function(event){var state=event.detail.state;if(state==='activating'){$('#frcFieldContainer').addClass('visible')}var derivedState=this.captchaDerivedState(state);var label=this.captchaDerivedStateLabel(derivedState,this.captchaLang);$('#frcCaptchaStatusText').text(label);var $iconContainer=$('#frcCaptchaStatusIcon');if($iconContainer.length){var $allIcons=$iconContainer.find('svg');$allIcons.each(function(){this.classList.add('hidden')});var stateToShow=derivedState;if(derivedState==='expired'){stateToShow='error'}var $targetIcon=$iconContainer.find('svg[data-state="'+stateToShow+'"]');$targetIcon.each(function(){this.classList.remove('hidden')})}},attachSubmitEvent:function(){$('.oneWebCntForm input[type="submit"]').click($.proxy(this.validateForm,this))},attachNumberInputValidation:function(){var regex=this.numberRegex;$('.contact-form-field-container > '+this.numberQuery).on('input',function(){var $this=$(this),value=$this.val();if(!regex.test(value)){var pattern='[^'+regex.source.replace(/^\^\[(.*?)\]\+\$$/,'$1')+']';var newValue=value.replace(new RegExp(pattern,'g'),'');$this.val(newValue)}})},validateForm:function(event){event.preventDefault();event.stopImmediatePropagation();this.removeSuccessMessageOnFormFields($('#contactFormResponseContainer'));$('.oneWebCntFormFileUploadErrMsg').hide();this.contactFormDOM=$('.oneWebCntForm');this.removeErrorMessageWarningOnFormFields(this.contactFormDOM);this.setDocumentCharset('ISO-8859-1');if(this.getFormValidationErrors(this.contactFormDOM)===0){this.updateFormData(this.contactFormDOM);if(this.isHiddenFieldEmpty()&&!this.previewMode){this.postContactForm();this.formData=new FormData;this.addMetadataToFormData()}}else{var errEl=$('.contact-form-field-container .error-message')[0];if(errEl){errEl.scrollIntoView()}this.setDocumentCharset(this.originalCharset);return false}},removeErrorMessageWarningOnFormFields:function(formDOM){$(formDOM).find('.error-message').remove()},removeSuccessMessageOnFormFields:function(successMsgDOM){$(successMsgDOM).html('').removeClass('formSuccess')},getFormValidationErrors:function(formDOM){var formFields=formDOM.find('.contact-form-field-container'),emailRegex=this.emailRegex,urlRegex=this.urlRegex,messageRegex=/^\S*/g,numberRegex=this.numberRegex,self=this,errors=0;$.each(formFields,$.proxy(function(index,element){var errorMessage=this.formElementsErrorMessages[index],inputFieldVal,errorFound=false,text;var $numberField=$(element).find(this.numberQuery),isNumberField=$numberField.length===1;errorMessage=errorMessage&&decodeURIComponent(errorMessage);if($(element).find('input[type="text"]')[0]&&!isNumberField&&errorMessage){text=$.trim($(element).find('input[type="text"]').val());if(!text.length&&text.match(messageRegex)){errorFound=true}}else if($(element).find('input[type="file"]')[0]){if(errorMessage&&!Object.keys(self.uploadedFileInfo).length){errorMessage=errorMessage||decodeURIComponent(this.allFieldErrorMessage[index]);if(!inputFieldVal){errorFound=true}}}else if($(element).find('input[type="email"]')[0]){inputFieldVal=$(element).find('input[type="email"]').val();if(errorMessage||inputFieldVal){errorMessage=errorMessage||decodeURIComponent(this.allFieldErrorMessage[index]);if(!emailRegex.test(inputFieldVal)){errorFound=true}}}else if($(element).find('input[type="url"]')[0]){inputFieldVal=$(element).find('input[type="url"]').val();if(errorMessage||inputFieldVal){errorMessage=errorMessage||decodeURIComponent(this.allFieldErrorMessage[index]);if(!urlRegex.test(inputFieldVal)&&!urlRegex.test('http://'+inputFieldVal)){errorFound=true}}}else if(isNumberField){inputFieldVal=$numberField.val();if(errorMessage||inputFieldVal){errorMessage=errorMessage||decodeURIComponent(this.allFieldErrorMessage[index]);if(!inputFieldVal.match(numberRegex)){errorFound=true}}}else if($(element).find('input[type="tel"]')[0]){inputFieldVal=$(element).find('input[type="tel"]').val();if(errorMessage||inputFieldVal){errorMessage=errorMessage||decodeURIComponent(this.allFieldErrorMessage[index]);if(!inputFieldVal.match(numberRegex)){errorFound=true}}}else if($(element).find('input[type="checkbox"]').length>0&&errorMessage){if(!$(element).find('input[type="checkbox"]:checked')[0]){errorFound=true}}else if($(element).find('input[type="radio"]').length>0&&errorMessage){if(!$(element).find('input[type="radio"]:checked')[0]){errorFound=true}}else if($(element).find('textarea')[0]&&errorMessage){text=$.trim($(element).find('textarea').val());if(!text.length&&text.match(messageRegex)){errorFound=true}}else if($(element).find('select')[0]&&errorMessage){var selectedValue=$(element).find('select').val();if(!selectedValue&&selectedValue!=='--'){errorFound=true}}var errContainer=$(element).next('.error');if(errorFound){errContainer.html(htmlEncode(errorMessage));errors=errors+1}else{errContainer.html('&nbsp;')}},this));return errors},updateFormData:function(formDOM){var formFields=$(formDOM).find('.contact-form-field-container'),existingNames=[];formFields.sort(function(a,b){var aType=$(a).find('input[type="file"]')[0]?'file':'other',bType=$(b).find('input[type="file"]')[0]?'file':'other';return aType===bType?0:aType>bType?-1:1});var self=this;$.each(this.formData.keys(),function(key){existingNames.push(key)});if(this.isInvisibleCaptchaEnabled){if(this.isCaptchaEnabled&&this.myCustomWidget&&this.myCustomWidget.state==='completed'){this.formData.append('frc-captcha-version','v2');this.formData.append('frc-captcha-solution',this.myCustomWidget.response)}}else{if(this.isCaptchaEnabled&&$(formDOM).find("input[name='frc-captcha-solution']").val()){this.formData.append('frc-captcha-solution',$(formDOM).find("input[name='frc-captcha-solution']").val())}}var marketingConsentField=$(formDOM).find("input[name='optedInForMarketing']");if(marketingConsentField.length){var marketingConsentValue=marketingConsentField.is(':checked')?'Subscribed':'Unsubscribed';this.formData.append('Marketing Consent',marketingConsentValue)}$.each(formFields,$.proxy(function(index,element){var labelName=$(element).find('label').attr('data-label');labelName=getUniqueFieldName(labelName,existingNames);existingNames.push(labelName);if($(element).find('input[type="text"]')[0]||$(element).find('input[type="url"]')[0]||$(element).find(this.numberQuery)[0]||$(element).find('input[type="tel"]')[0]){this.formData.append(labelName,$(element).find('input').val())}else if($(element).find('input[type="file"]')[0]){if(Object.keys(self.uploadedFileInfo).length>0){$.each(Object.keys(self.uploadedFileInfo),function(i,fileName){self.formData.append(labelName+'_'+i,self.uploadedFileInfo[fileName])})}}else if($(element).find('input[type="email"]')[0]){labelName=labelName==='email'?'Email':labelName;if(!this.formData.get('replyto')){this.formData.append('replyto',$(element).find('input').val());this.formData.append(labelName,$(element).find('input').val())}else{this.formData.append(labelName,$(element).find('input').val())}}else if($(element).find('input[type="checkbox"]:checked')[0]){var cbValues=$(element).find('input[type="checkbox"]:checked').map(function(index,ele){return $(ele).val()}).get().join(', ');this.formData.append(labelName,cbValues)}else if($(element).find('input[type="radio"]:checked')[0]){this.formData.append(labelName,$(element).find('input[type="radio"]:checked').val())}else if($(element).find('select')[0]){this.formData.append(labelName,$(element).find('select').val())}else if($(element).find('textarea')[0]){this.formData.append(labelName,$(element).find('textarea').val())}},this))},getEncodedFormData:function(){var encodedFormData='';var replacePlus=function(data){return data.replace(/\+/g,'%2B')};var fnPipe=[escape,encodeURIComponent,unescape,replacePlus];for(var key in this.formData){var newKey=key;newKey=key.replace(/[\[\]]+/g,'_');encodedFormData+=runPipe(fnPipe,newKey)+'='+runPipe(fnPipe,this.formData.get(key))+'&'}encodedFormData=encodedFormData.substring(0,encodedFormData.length-1);return encodedFormData},isHiddenFieldEmpty:function(){var element=$(this.contactFormDOM).find('.contact-form-field-container>input[name="some-randome-random"]');return element.text()===''&&element.val()===''},postContactForm:function(){$.ajax({type:'POST',url:this.postURL,data:this.formData,cache:false,contentType:false,processData:false,success:$.proxy(this.ajaxSuccess,this),error:$.proxy(this.ajaxError,this)})},ajaxSuccess:function(responseText){var responseStatus=$('#contactFormResponseContainer');if(/<title>\s*Error/i.test(responseText)){$(responseStatus).html(htmlEncode(this.errorMessage)).addClass('formError').removeClass('formSuccess')}else{$(responseStatus).html(htmlEncode(this.successMessage)).addClass('formSuccess').removeClass('formError');this.trackFormSubmit()}this.resetDocument()},ajaxError:function(){var responseStatus=$('#contactFormResponseContainer');this.myCustomWidget&&this.myCustomWidget.reset();this.toggleSendButton(true);$(responseStatus).html(this.errorMessage).addClass('formError')},resetDocument:function(){$(this.contactFormDOM).trigger('reset');$('.oneWebCntFormFileUploadInput').prop('disabled',false);$('.fileUploadBtn').css('opacity','1');this.uploadedFileInfo={};var fileCount=Object.keys(this.uploadedFileInfo).length;$('.uploadedFileCount').html(fileCount);this.removeFileFromFileList(true);this.myCustomWidget&&this.myCustomWidget.reset();this.toggleSendButton(false);this.setDocumentCharset(this.originalCharset)},getDocumentCharset:function(){return document.characterSet||document.charset},setDocumentCharset:function(charset){if(document.charset){document.charset=charset}else{document.characterSet=charset}},trackFormSubmit:function(){const sw=window.sw;if(sw&&sw.register_contact_form){sw.register_contact_form()}}};return ContactFormValidation}(oneJQuery);